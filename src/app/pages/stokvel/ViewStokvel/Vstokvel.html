<section class="view-stokvel-wrapper">
  <img src="assets/images/discovery-logo.png" alt="Discovery Logo" class="discovery-logo" />

  <h1 *ngIf="!stokvelDetails">Your Stokvel Groups</h1>
  <h1 *ngIf="stokvelDetails">{{ stokvelDetails.name }}</h1>

  <div *ngIf="loading" class="status-text">Loading...</div>

  <!-- List View -->
  <div *ngIf="!loading && !stokvelDetails">
    <div *ngIf="stokvelsV.length > 0" class="stokvel-grid">
      <a [routerLink]="['/stokvel/view', stokvel.id]" class="stokvel-card" *ngFor="let stokvel of stokvelsV">
        <h2>{{ stokvel.name }}</h2>
      </a>
    </div>

    <div *ngIf="stokvelsV.length === 0" class="status-text">
      No stokvels yet.<br />
      Create or Join a stokvel community.
    </div>
  </div>

  <!-- Details View -->
  <div *ngIf="stokvelDetails && !loading" class="stokvel-summary">
    <p><strong>Amount:</strong> R{{ stokvelDetails.amount }}</p>
    <p><strong>Period:</strong> {{ stokvelDetails.period }}</p>
    <p><strong>Start Date:</strong> {{ stokvelDetails.startDate | date:'mediumDate' }}</p>
    <p><strong>Next Round Payout:</strong> {{ stokvelDetails.nextPayout | date:'mediumDate' }}</p>
    <p><strong>Your Withdrawal Position:</strong> {{ stokvelDetails.yourPosition }}</p>

    <h3>Members</h3>
    <ul>
      <li *ngFor="let member of stokvelDetails.members">
        {{ member.position }}. {{ member.name }}
      </li>
    </ul>

    <div class="button-row">
      <button routerLink="/stokvel/view" class="create-button">‚Üê View All</button>
    </div>
  </div>
</section>
